<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Intro to Data Science for the Social Sector</title>
  <meta name="description" content="This is an introductory text to data science designed for social science graduate students in public affairs, nonprofit management, and international development.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Intro to Data Science for the Social Sector" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is an introductory text to data science designed for social science graduate students in public affairs, nonprofit management, and international development." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Intro to Data Science for the Social Sector" />
  
  <meta name="twitter:description" content="This is an introductory text to data science designed for social science graduate students in public affairs, nonprofit management, and international development." />
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="functions.html">
<link rel="next" href="logical-statements.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="custom.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://ds4ps.github.io/course_website/">Data Science I</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="part"><span><b>I PART I: FOUNDATIONS</b></span></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#navigation"><i class="fa fa-check"></i><b>1.1</b> Navigation</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#setting-your-working-directory"><i class="fa fa-check"></i><b>1.1.1</b> Setting Your Working Directory</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#commenting-code"><i class="fa fa-check"></i><b>1.2</b> Commenting Code</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#here-is-some-documentation-for-this-script"><i class="fa fa-check"></i><b>1.3</b> Here is some documentation for this script</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#help"><i class="fa fa-check"></i><b>1.4</b> Help</a></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#install-programs-packages"><i class="fa fa-check"></i><b>1.5</b> Install Programs (packages)</a></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#accessing-built-in-datasets-in-r"><i class="fa fa-check"></i><b>1.6</b> Accessing Built-In Datasets in R</a><ul>
<li class="chapter" data-level="1.6.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#basic-data-operations"><i class="fa fa-check"></i><b>1.6.1</b> Basic Data Operations</a></li>
<li class="chapter" data-level="1.6.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#using-the-lahman-data"><i class="fa fa-check"></i><b>1.6.2</b> Using the Lahman Data</a></li>
<li class="chapter" data-level="1.6.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#example-analysis"><i class="fa fa-check"></i><b>1.6.3</b> Example Analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>2</b> Functions</a><ul>
<li class="chapter" data-level="2.1" data-path="functions.html"><a href="functions.html#key-concepts"><i class="fa fa-check"></i><b>2.1</b> Key Concepts</a></li>
<li class="chapter" data-level="2.2" data-path="functions.html"><a href="functions.html#computer-programs-as-recipes"><i class="fa fa-check"></i><b>2.2</b> Computer Programs as Recipes</a></li>
<li class="chapter" data-level="2.3" data-path="functions.html"><a href="functions.html#example-function"><i class="fa fa-check"></i><b>2.3</b> Example Function</a></li>
<li class="chapter" data-level="2.4" data-path="functions.html"><a href="functions.html#default-argument-values"><i class="fa fa-check"></i><b>2.4</b> Default Argument Values</a></li>
<li class="chapter" data-level="2.5" data-path="functions.html"><a href="functions.html#assignment"><i class="fa fa-check"></i><b>2.5</b> Assignment</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>3</b> Data Structures</a><ul>
<li class="chapter" data-level="3.1" data-path="data-structures.html"><a href="data-structures.html#key-concepts-1"><i class="fa fa-check"></i><b>3.1</b> Key Concepts</a></li>
<li class="chapter" data-level="3.2" data-path="data-structures.html"><a href="data-structures.html#vectors"><i class="fa fa-check"></i><b>3.2</b> Vectors</a></li>
<li class="chapter" data-level="3.3" data-path="data-structures.html"><a href="data-structures.html#common-vectors-functions"><i class="fa fa-check"></i><b>3.3</b> Common Vectors Functions</a></li>
<li class="chapter" data-level="3.4" data-path="data-structures.html"><a href="data-structures.html#the-combine-function"><i class="fa fa-check"></i><b>3.4</b> The Combine Function</a></li>
<li class="chapter" data-level="3.5" data-path="data-structures.html"><a href="data-structures.html#casting"><i class="fa fa-check"></i><b>3.5</b> Casting</a></li>
<li class="chapter" data-level="3.6" data-path="data-structures.html"><a href="data-structures.html#numeric-vectors"><i class="fa fa-check"></i><b>3.6</b> Numeric Vectors</a><ul>
<li class="chapter" data-level="3.6.1" data-path="data-structures.html"><a href="data-structures.html#integers-are-simple-numeric-vectors"><i class="fa fa-check"></i><b>3.6.1</b> Integers Are Simple Numeric Vectors</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-structures.html"><a href="data-structures.html#character-vectors"><i class="fa fa-check"></i><b>3.7</b> Character Vectors</a><ul>
<li class="chapter" data-level="3.7.1" data-path="data-structures.html"><a href="data-structures.html#quotes-in-arguments"><i class="fa fa-check"></i><b>3.7.1</b> Quotes in Arguments</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="data-structures.html"><a href="data-structures.html#factors"><i class="fa fa-check"></i><b>3.8</b> Factors</a></li>
<li class="chapter" data-level="3.9" data-path="data-structures.html"><a href="data-structures.html#logical-vectors"><i class="fa fa-check"></i><b>3.9</b> Logical Vectors</a></li>
<li class="chapter" data-level="3.10" data-path="data-structures.html"><a href="data-structures.html#generating-vectors"><i class="fa fa-check"></i><b>3.10</b> Generating Vectors</a></li>
<li class="chapter" data-level="3.11" data-path="data-structures.html"><a href="data-structures.html#variable-transformations"><i class="fa fa-check"></i><b>3.11</b> Variable Transformations</a></li>
<li class="chapter" data-level="3.12" data-path="data-structures.html"><a href="data-structures.html#missing-values-nas"><i class="fa fa-check"></i><b>3.12</b> Missing Values: NA’s</a></li>
<li class="chapter" data-level="3.13" data-path="data-structures.html"><a href="data-structures.html#datasets"><i class="fa fa-check"></i><b>3.13</b> Datasets</a><ul>
<li class="chapter" data-level="3.13.1" data-path="data-structures.html"><a href="data-structures.html#data-frames"><i class="fa fa-check"></i><b>3.13.1</b> Data Frames</a></li>
<li class="chapter" data-level="3.13.2" data-path="data-structures.html"><a href="data-structures.html#matrices"><i class="fa fa-check"></i><b>3.13.2</b> Matrices</a></li>
<li class="chapter" data-level="3.13.3" data-path="data-structures.html"><a href="data-structures.html#lists"><i class="fa fa-check"></i><b>3.13.3</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="3.14" data-path="data-structures.html"><a href="data-structures.html#the-attach-function"><i class="fa fa-check"></i><b>3.14</b> The ‘attach’ Function</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="logical-statements.html"><a href="logical-statements.html"><i class="fa fa-check"></i><b>4</b> Logical Statements</a><ul>
<li class="chapter" data-level="4.1" data-path="logical-statements.html"><a href="logical-statements.html#key-concepts-2"><i class="fa fa-check"></i><b>4.1</b> Key Concepts</a></li>
<li class="chapter" data-level="4.2" data-path="logical-statements.html"><a href="logical-statements.html#operators"><i class="fa fa-check"></i><b>4.2</b> Operators</a></li>
<li class="chapter" data-level="4.3" data-path="logical-statements.html"><a href="logical-statements.html#selector-vectors"><i class="fa fa-check"></i><b>4.3</b> Selector Vectors</a></li>
<li class="chapter" data-level="4.4" data-path="logical-statements.html"><a href="logical-statements.html#usefulness-of-selector-vectors"><i class="fa fa-check"></i><b>4.4</b> Usefulness of Selector Vectors</a></li>
<li class="chapter" data-level="4.5" data-path="logical-statements.html"><a href="logical-statements.html#compound-logical-statements"><i class="fa fa-check"></i><b>4.5</b> Compound Logical Statements</a></li>
<li class="chapter" data-level="4.6" data-path="logical-statements.html"><a href="logical-statements.html#nas-in-logical-statements"><i class="fa fa-check"></i><b>4.6</b> NAs in Logical Statements</a></li>
<li class="chapter" data-level="4.7" data-path="logical-statements.html"><a href="logical-statements.html#subsets"><i class="fa fa-check"></i><b>4.7</b> Subsets</a></li>
</ul></li>
<li class="part"><span><b>II PART II: DATA WRANGLING</b></span></li>
<li class="chapter" data-level="5" data-path="merging-data.html"><a href="merging-data.html"><i class="fa fa-check"></i><b>5</b> Merging Data</a><ul>
<li class="chapter" data-level="5.1" data-path="merging-data.html"><a href="merging-data.html#packages-used-in-this-chapter"><i class="fa fa-check"></i><b>5.1</b> Packages Used in This Chapter</a></li>
<li class="chapter" data-level="5.2" data-path="merging-data.html"><a href="merging-data.html#relational-databases"><i class="fa fa-check"></i><b>5.2</b> Relational Databases</a></li>
<li class="chapter" data-level="5.3" data-path="merging-data.html"><a href="merging-data.html#set-theory"><i class="fa fa-check"></i><b>5.3</b> Set Theory</a><ul>
<li class="chapter" data-level="5.3.1" data-path="merging-data.html"><a href="merging-data.html#set-theory-functions"><i class="fa fa-check"></i><b>5.3.1</b> Set Theory Functions</a></li>
<li class="chapter" data-level="5.3.2" data-path="merging-data.html"><a href="merging-data.html#set-theory-using-logical-operators"><i class="fa fa-check"></i><b>5.3.2</b> Set Theory Using Logical Operators</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="merging-data.html"><a href="merging-data.html#merging-data-1"><i class="fa fa-check"></i><b>5.4</b> Merging Data</a></li>
<li class="chapter" data-level="5.5" data-path="merging-data.html"><a href="merging-data.html#use-character-columns-of-names-to-get-sensible-sort-order"><i class="fa fa-check"></i><b>5.5</b> use character columns of names to get sensible sort order</a><ul>
<li class="chapter" data-level="5.5.1" data-path="merging-data.html"><a href="merging-data.html#the-by.x-and-by.y-arguments"><i class="fa fa-check"></i><b>5.5.1</b> The by.x and by.y Arguments</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="merging-data.html"><a href="merging-data.html#non-unique-observations-in-id-variables"><i class="fa fa-check"></i><b>5.6</b> Non-Unique Observations in ID Variables</a><ul>
<li class="chapter" data-level="5.6.1" data-path="merging-data.html"><a href="merging-data.html#example-of-incorrect-merge"><i class="fa fa-check"></i><b>5.6.1</b> Example of Incorrect Merge</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="merging-data.html"><a href="merging-data.html#the-in-function"><i class="fa fa-check"></i><b>5.7</b> The %in% function</a></li>
<li class="chapter" data-level="5.8" data-path="merging-data.html"><a href="merging-data.html#the-match-function"><i class="fa fa-check"></i><b>5.8</b> The Match Function</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="analysis-with-groups-in-r.html"><a href="analysis-with-groups-in-r.html"><i class="fa fa-check"></i><b>6</b> Analysis with Groups in R</a><ul>
<li class="chapter" data-level="6.0.1" data-path="analysis-with-groups-in-r.html"><a href="analysis-with-groups-in-r.html#packages-used-in-this-chapter-1"><i class="fa fa-check"></i><b>6.0.1</b> Packages Used in this Chapter</a></li>
<li class="chapter" data-level="6.0.2" data-path="analysis-with-groups-in-r.html"><a href="analysis-with-groups-in-r.html#hypothetical-experimental-data"><i class="fa fa-check"></i><b>6.0.2</b> Hypothetical Experimental Data</a></li>
<li class="chapter" data-level="6.1" data-path="analysis-with-groups-in-r.html"><a href="analysis-with-groups-in-r.html#group-structure"><i class="fa fa-check"></i><b>6.1</b> Group Structure</a><ul>
<li class="chapter" data-level="6.1.1" data-path="analysis-with-groups-in-r.html"><a href="analysis-with-groups-in-r.html#what-are-groups"><i class="fa fa-check"></i><b>6.1.1</b> What Are Groups?</a></li>
<li class="chapter" data-level="6.1.2" data-path="analysis-with-groups-in-r.html"><a href="analysis-with-groups-in-r.html#main-take-away"><i class="fa fa-check"></i><b>6.1.2</b> Main Take-Away</a></li>
<li class="chapter" data-level="6.1.3" data-path="analysis-with-groups-in-r.html"><a href="analysis-with-groups-in-r.html#example"><i class="fa fa-check"></i><b>6.1.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="analysis-with-groups-in-r.html"><a href="analysis-with-groups-in-r.html#analysis-by-group"><i class="fa fa-check"></i><b>6.2</b> Analysis by Group</a><ul>
<li class="chapter" data-level="6.2.1" data-path="analysis-with-groups-in-r.html"><a href="analysis-with-groups-in-r.html#highest-ave-player-salary"><i class="fa fa-check"></i><b>6.2.1</b> Highest Ave Player Salary</a></li>
<li class="chapter" data-level="6.2.2" data-path="analysis-with-groups-in-r.html"><a href="analysis-with-groups-in-r.html#most-players-paid-over-5-million"><i class="fa fa-check"></i><b>6.2.2</b> Most Players Paid Over $5 Million</a></li>
<li class="chapter" data-level="6.2.3" data-path="analysis-with-groups-in-r.html"><a href="analysis-with-groups-in-r.html#fielding-positions"><i class="fa fa-check"></i><b>6.2.3</b> Fielding Positions</a></li>
<li class="chapter" data-level="6.2.4" data-path="analysis-with-groups-in-r.html"><a href="analysis-with-groups-in-r.html#country-of-birth"><i class="fa fa-check"></i><b>6.2.4</b> Country of Birth</a></li>
<li class="chapter" data-level="6.2.5" data-path="analysis-with-groups-in-r.html"><a href="analysis-with-groups-in-r.html#pay-raises"><i class="fa fa-check"></i><b>6.2.5</b> Pay Raises</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://webapp4.asu.edu/programs/t5/majorinfo/ASU00/PPPGEMS/graduate/false" target="blank">ASU</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Intro to Data Science for the Social Sector</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-structures" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Data Structures</h1>
<div id="key-concepts-1" class="section level2">
<h2><span class="header-section-number">3.1</span> Key Concepts</h2>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-3"></span>
<img src="figures/vectors.png" alt="Components of a Vector" width="60%" />
<p class="caption">
Figure 3.1: Components of a Vector
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-4"></span>
<img src="figures/data_types.png" alt="Basic data types in R" width="70%" />
<p class="caption">
Figure 3.2: Basic data types in R
</p>
</div>
</div>
<div id="vectors" class="section level2">
<h2><span class="header-section-number">3.2</span> Vectors</h2>
<p>Vectors are the building blocks of data programming in R, so they are extremely important concepts.</p>
<p>Very loosely speaking a vector is a set of numbers, words, or other values:</p>
<ul>
<li>[ 1, 2, 3]</li>
<li>[ apple, orange, pear ]</li>
<li>[ TRUE, FALSE, FALSE ]</li>
</ul>
<p>In social sciences, a vector usually represents a variable in a dataset.</p>
<p>There are four primary vector types (“classes”) in R:</p>
<table>
<colgroup>
<col width="47%" />
<col width="52%" />
</colgroup>
<thead>
<tr class="header">
<th>Class</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>numeric</td>
<td>Typical variable of only numbers</td>
</tr>
<tr class="even">
<td>character</td>
<td>A vector of letters or words, always enclosed with quotes</td>
</tr>
<tr class="odd">
<td>factor</td>
<td>Categories which represent groups, like treatment and control</td>
</tr>
<tr class="even">
<td>logical</td>
<td>A vector of TRUE and FALSE to designate which observations fit a criteria</td>
</tr>
</tbody>
</table>
<p>Each vector or dataset has a “class” that tells R the data type.</p>
<p>These different vectors can be combined into three different types of datasets (data frames, matrices, and lists), which will be discussed below.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">x1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">167</span>,<span class="dv">185</span>,<span class="dv">119</span>,<span class="dv">142</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">x2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;adam&quot;</span>,<span class="st">&quot;jamal&quot;</span>,<span class="st">&quot;linda&quot;</span>,<span class="st">&quot;sriti&quot;</span>)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"></a>
<a class="sourceLine" id="cb1-6" data-line-number="6">x3 &lt;-<span class="st"> </span><span class="kw">factor</span>( <span class="kw">c</span>(<span class="st">&quot;male&quot;</span>,<span class="st">&quot;male&quot;</span>,<span class="st">&quot;female&quot;</span>,<span class="st">&quot;female&quot;</span>) )</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"></a>
<a class="sourceLine" id="cb1-8" data-line-number="8">x4 &lt;-<span class="st"> </span><span class="kw">c</span>( <span class="st">&quot;treatment&quot;</span>,<span class="st">&quot;control&quot;</span>,<span class="st">&quot;treatment&quot;</span>,<span class="st">&quot;control&quot;</span> )</a>
<a class="sourceLine" id="cb1-9" data-line-number="9"></a>
<a class="sourceLine" id="cb1-10" data-line-number="10">x5 &lt;-<span class="st"> </span>x4 <span class="op">==</span><span class="st"> &quot;treatment&quot;</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11"></a>
<a class="sourceLine" id="cb1-12" data-line-number="12">dat &lt;-<span class="st"> </span><span class="kw">data.frame</span>( <span class="dt">name=</span>x2, <span class="dt">sex=</span>x3, <span class="dt">treat=</span>x4, <span class="dt">is.treat=</span>x5, <span class="dt">strength=</span>x1 )</a></code></pre></div>
<table style="width:71%;">
<colgroup>
<col width="11%" />
<col width="12%" />
<col width="16%" />
<col width="15%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">name</th>
<th align="center">sex</th>
<th align="center">treat</th>
<th align="center">is.treat</th>
<th align="center">strength</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">adam</td>
<td align="center">male</td>
<td align="center">treatment</td>
<td align="center">TRUE</td>
<td align="center">167</td>
</tr>
<tr class="even">
<td align="center">jamal</td>
<td align="center">male</td>
<td align="center">control</td>
<td align="center">FALSE</td>
<td align="center">185</td>
</tr>
<tr class="odd">
<td align="center">linda</td>
<td align="center">female</td>
<td align="center">treatment</td>
<td align="center">TRUE</td>
<td align="center">119</td>
</tr>
<tr class="even">
<td align="center">sriti</td>
<td align="center">female</td>
<td align="center">control</td>
<td align="center">FALSE</td>
<td align="center">142</td>
</tr>
</tbody>
</table>
<p>R keeps track of the data type of each object, which can be ascertained using the <strong>class()</strong> function.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">class</span>( x )</a></code></pre></div>
<pre><code>### $name
### [1] &quot;character&quot;
### 
### $sex
### [1] &quot;factor&quot;
### 
### $treat
### [1] &quot;character&quot;
### 
### $is.treat
### [1] &quot;logical&quot;
### 
### $strength
### [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">class</span>( dat )</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">### [1] &quot;data.frame&quot;</span></a></code></pre></div>
</div>
<div id="common-vectors-functions" class="section level2">
<h2><span class="header-section-number">3.3</span> Common Vectors Functions</h2>
<p>You will spend a lot of time creating data vectors, transforming variables, generating subsets, cleaning data, and adding new observations. These are all accomplished through <strong>functions()</strong> that act on vectors.</p>
<p>We often need to know how many elements belong to a vector, which we find with the <strong>length()</strong> function.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">x1</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co">### [1] 167 185 119 142</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="kw">length</span>( x1 )</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">### [1] 4</span></a></code></pre></div>
</div>
<div id="the-combine-function" class="section level2">
<h2><span class="header-section-number">3.4</span> The Combine Function</h2>
<p>We often need to combine several elements into a single vector, or combine two vectors to form one. This is done using the <strong>c()</strong> function.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)        <span class="co"># create a numeric vector</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">### [1] 1 2 3</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>)  <span class="co"># create a character vector</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">### [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</span></a></code></pre></div>
<p>Combining two vectors:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">y &lt;-<span class="st"> </span><span class="dv">10</span><span class="op">:</span><span class="dv">15</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"></a>
<a class="sourceLine" id="cb7-6" data-line-number="6">z &lt;-<span class="st"> </span><span class="kw">c</span>(x,y)</a>
<a class="sourceLine" id="cb7-7" data-line-number="7"></a>
<a class="sourceLine" id="cb7-8" data-line-number="8">z</a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="co">###  [1]  1  2  3  4  5 10 11 12 13 14 15</span></a></code></pre></div>
<p>Combining two vectors of different data types:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"></a>
<a class="sourceLine" id="cb8-3" data-line-number="3">y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>)</a>
<a class="sourceLine" id="cb8-4" data-line-number="4"></a>
<a class="sourceLine" id="cb8-5" data-line-number="5">z &lt;-<span class="st"> </span><span class="kw">c</span>(x,y)</a>
<a class="sourceLine" id="cb8-6" data-line-number="6"></a>
<a class="sourceLine" id="cb8-7" data-line-number="7">z</a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co">### [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;a&quot; &quot;b&quot; &quot;c&quot;</span></a></code></pre></div>
</div>
<div id="casting" class="section level2">
<h2><span class="header-section-number">3.5</span> Casting</h2>
<p>You can easily move from one data type to another by <strong>casting</strong> a specific type as another type:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"></a>
<a class="sourceLine" id="cb9-4" data-line-number="4">x</a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co">### [1] 1 2 3 4 5</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="kw">as.character</span>(x)</a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="co">### [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;</span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9"></a>
<a class="sourceLine" id="cb9-10" data-line-number="10">y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb9-11" data-line-number="11"></a>
<a class="sourceLine" id="cb9-12" data-line-number="12">y</a>
<a class="sourceLine" id="cb9-13" data-line-number="13"><span class="co">### [1]  TRUE FALSE  TRUE  TRUE FALSE</span></a>
<a class="sourceLine" id="cb9-14" data-line-number="14"></a>
<a class="sourceLine" id="cb9-15" data-line-number="15"><span class="kw">as.numeric</span>( y )</a>
<a class="sourceLine" id="cb9-16" data-line-number="16"><span class="co">### [1] 1 0 1 1 0</span></a>
<a class="sourceLine" id="cb9-17" data-line-number="17"></a>
<a class="sourceLine" id="cb9-18" data-line-number="18"><span class="kw">as.character</span>( y )</a>
<a class="sourceLine" id="cb9-19" data-line-number="19"><span class="co">### [1] &quot;TRUE&quot;  &quot;FALSE&quot; &quot;TRUE&quot;  &quot;TRUE&quot;  &quot;FALSE&quot;</span></a></code></pre></div>
<p>But in some cases it might not make sense to cast one variable type as another.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"></a>
<a class="sourceLine" id="cb10-2" data-line-number="2">z &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)</a>
<a class="sourceLine" id="cb10-3" data-line-number="3"></a>
<a class="sourceLine" id="cb10-4" data-line-number="4">z</a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="co">### [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6"></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="kw">as.numeric</span>( z )</a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">### [1] NA NA NA</span></a></code></pre></div>
<p>Casting will often be induced automatically when you try to combine different types of data. For example, when you add a character element to a numeric vector, the whole vector will be cast as a character vector.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"></a>
<a class="sourceLine" id="cb11-2" data-line-number="2">x1 &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3">x1</a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="co">### [1] 1 2 3 4 5</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"></a>
<a class="sourceLine" id="cb11-6" data-line-number="6">x1 &lt;-<span class="st"> </span><span class="kw">c</span>( x1, <span class="st">&quot;a&quot;</span> ) <span class="co"># a vector can only have one data type</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"></a>
<a class="sourceLine" id="cb11-8" data-line-number="8">x1 <span class="co"># all numbers silently recast as characters</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="co">### [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;a&quot;</span></a></code></pre></div>
<p>If you consider the example above, when a numeric and character vector are combined all elements are re-cast as strings because numbers can be represented as characters but not vice-versa. R tries to select a reasonable default type, but sometimes casting will create some strange and unexpected behaviors. Consider some of these examples. What do you think each will produce?</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"></a>
<a class="sourceLine" id="cb12-2" data-line-number="2">x1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)                    <span class="co"># numeric</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3">x2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>)              <span class="co"># character</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4">x3 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">FALSE</span>,<span class="ot">TRUE</span>)          <span class="co"># logical</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5">x4 &lt;-<span class="st"> </span><span class="kw">factor</span>( <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>) )    <span class="co"># factor</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"></a>
<a class="sourceLine" id="cb12-7" data-line-number="7">case1 &lt;-<span class="st"> </span><span class="kw">c</span>( x1, x3 )</a>
<a class="sourceLine" id="cb12-8" data-line-number="8"></a>
<a class="sourceLine" id="cb12-9" data-line-number="9">case2 &lt;-<span class="st"> </span><span class="kw">c</span>( x2, x3 )</a>
<a class="sourceLine" id="cb12-10" data-line-number="10"></a>
<a class="sourceLine" id="cb12-11" data-line-number="11">case3 &lt;-<span class="st"> </span><span class="kw">c</span>( x1, x4 )</a>
<a class="sourceLine" id="cb12-12" data-line-number="12"></a>
<a class="sourceLine" id="cb12-13" data-line-number="13">case4 &lt;-<span class="st"> </span><span class="kw">c</span>( x2, x4 )</a></code></pre></div>
<p>The answers to <em>case1</em> and <em>case2</em> are somewhat intuitive.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">case1  <span class="co"># combine a numeric and logical vector</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="co">### [1] 1 2 3 1 0 1</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"></a>
<a class="sourceLine" id="cb13-4" data-line-number="4">case2  <span class="co"># combine a character and logical vector</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="co">### [1] &quot;a&quot;     &quot;b&quot;     &quot;c&quot;     &quot;TRUE&quot;  &quot;FALSE&quot; &quot;TRUE&quot;</span></a></code></pre></div>
<p>Recall that TRUE and FALSE are often represented as 1 and 0 in datasets, so they can be recast as numeric elements. The numbers 2 and 3 have no meaning in a logical vector, so we can’t cast a numeric vector as a logical vector.</p>
<p><em>case3</em> and <em>case4</em> are a little more nuanced. See the section on factors below to make sense of them.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">case3  <span class="co"># combine a numeric and factor vector</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="co">### [1] 1 2 3 1 2 3</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"></a>
<a class="sourceLine" id="cb14-4" data-line-number="4">case4  <span class="co"># combine a character and factor vector</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="co">### [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;1&quot; &quot;2&quot; &quot;3&quot;</span></a></code></pre></div>
<p>TIP: When you read data in from outside sources, the input functions often will cast character or numeric vectors as factors if they contain a low number of elements. See the section on factors below for special instructions on moving from factors to numeric vectors.</p>
</div>
<div id="numeric-vectors" class="section level2">
<h2><span class="header-section-number">3.6</span> Numeric Vectors</h2>
<p>There are some specific things to note about each vector type.</p>
<p>Math operators will only work on numeric vectors.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"></a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="kw">summary</span>( x1 )</a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="co">###    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="co">###     1.0     1.5     2.0     2.0     2.5     3.0</span></a></code></pre></div>
<p>Note that if we try to run this mathematical function we get an error:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="kw">sum</span>( x2 ) <span class="co"># Error in sum(x2) : invalid &#39;type&#39; (character) of argument</span></a></code></pre></div>
<p>Many functions in R are sensitive to the data type of vectors. Mathematical functions, for example, do not make sense when applied to text (character vectors). In many cases R will give an error. In some cases R will silently re-cast the variable, then perform the operation. Be watchful for when silent re-casting occurs because it might have unwanted side effects, such as deleting data or re-coding group levels in the wrong way.</p>
<div id="integers-are-simple-numeric-vectors" class="section level3">
<h3><span class="header-section-number">3.6.1</span> Integers Are Simple Numeric Vectors</h3>
<p>The integer vector is a special type of numeric vector. It is used to save memory since integers require less space than numbers that contain decimals points (you need to allocate space for the numbers to the left and the numbers to the right of the decimal). Google “computer memory allocation” if you are interested in the specifics.</p>
<p>If you are doing advanced programming you will be more sensitive to memory allocation and the speed of your code, but in the intro class we will not differentiate between the two types of number vectors. In <em>most</em> cases they result in the same results, unless you are doing advanced numerical analysis where rounding errors matter.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"></a>
<a class="sourceLine" id="cb17-2" data-line-number="2">n &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"></a>
<a class="sourceLine" id="cb17-4" data-line-number="4">n</a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="co">### [1] 1 2 3 4 5</span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6"></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"><span class="kw">class</span>( n )</a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="co">### [1] &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9"></a>
<a class="sourceLine" id="cb17-10" data-line-number="10">n[ <span class="dv">2</span> ] &lt;-<span class="st"> </span><span class="fl">2.01</span></a>
<a class="sourceLine" id="cb17-11" data-line-number="11"></a>
<a class="sourceLine" id="cb17-12" data-line-number="12">n  <span class="co"># all elements converted to decimals</span></a>
<a class="sourceLine" id="cb17-13" data-line-number="13"><span class="co">### [1] 1.00 2.01 3.00 4.00 5.00</span></a>
<a class="sourceLine" id="cb17-14" data-line-number="14"></a>
<a class="sourceLine" id="cb17-15" data-line-number="15"><span class="kw">class</span>( n )</a>
<a class="sourceLine" id="cb17-16" data-line-number="16"><span class="co">### [1] &quot;numeric&quot;</span></a></code></pre></div>
</div>
</div>
<div id="character-vectors" class="section level2">
<h2><span class="header-section-number">3.7</span> Character Vectors</h2>
<p>The most important rule to remember with this data type: when creating character vectors, all text must be enclosed by quotation marks.</p>
<p>This one works:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="kw">c</span>( <span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span> )   <span class="co"># this works</span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="co">### [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</span></a></code></pre></div>
<p>This one will not:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">c</span>( a, b, c )  </a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="co"># Error: object &#39;a&#39; not found</span></a></code></pre></div>
<p>When you type characters surrounded by quotes then R knows you are creating new text (“strings” in programming speak). When you type characters that are not surrounded by quotes, R thinks that you are looking for an object in the environment, like the variables we have already created. It gets confused when it doesn’t find the object that you typed.</p>
<p>In generate, you will use quotes when you are creating character vectors, and for arguments in functions. You do not use quotes when you are referencing an active object. An active object is typically a dataset or vector that you have imported or created. You can print a list of all active objects with the <code>ls()</code> function.</p>
<div id="quotes-in-arguments" class="section level3">
<h3><span class="header-section-number">3.7.1</span> Quotes in Arguments</h3>
<p>When you first start using R it can be confusing about when quotes are needed around arguments. Take the following example of the color argument (<code>col=</code>) in the <code>plot()</code> function.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">strength &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">167</span>,<span class="dv">185</span>,<span class="dv">119</span>,<span class="dv">142</span>)</a>
<a class="sourceLine" id="cb20-2" data-line-number="2">name &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;adam&quot;</span>,<span class="st">&quot;jamal&quot;</span>,<span class="st">&quot;linda&quot;</span>,<span class="st">&quot;sriti&quot;</span>)</a>
<a class="sourceLine" id="cb20-3" data-line-number="3">group &lt;-<span class="st"> </span><span class="kw">factor</span>( <span class="kw">c</span>( <span class="st">&quot;treatment&quot;</span>,<span class="st">&quot;control&quot;</span>,<span class="st">&quot;treatment&quot;</span>,<span class="st">&quot;control&quot;</span> ) )</a>
<a class="sourceLine" id="cb20-4" data-line-number="4"></a>
<a class="sourceLine" id="cb20-5" data-line-number="5"><span class="kw">plot</span>( strength, <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>, ... )</a>
<a class="sourceLine" id="cb20-6" data-line-number="6"></a>
<a class="sourceLine" id="cb20-7" data-line-number="7"><span class="kw">plot</span>( strength, <span class="dt">col=</span>group,  ... )</a></code></pre></div>
<p><img src="DS4PS-I_files/figure-html/unnamed-chunk-26-1.png" width="70%" style="display: block; margin: auto;" /><img src="DS4PS-I_files/figure-html/unnamed-chunk-26-2.png" width="70%" style="display: block; margin: auto;" /></p>
<p>In the first example we are using a text string as an argument to specify a color (<code>col=&quot;blue&quot;</code>), so it must be enclosed by quotes because it is text.</p>
<p>In the second example R selects the color based upon group membership specified by the factor called ‘group’ (treatment or control). Since the argument is now referencing an object (<code>col=group</code>), we do not use quotes.</p>
<p>The exception here is when your argument requires a number. Numbers are not passed with quotes, or they would be cast as text.</p>
</div>
</div>
<div id="factors" class="section level2">
<h2><span class="header-section-number">3.8</span> Factors</h2>
<p>When there are categorical variables within our data, or groups, then we use a special vector to keep track of these groups. We could just use numbers (1=female, 0=male) or characters (“male”,“female”), but factors are useful for two reasons.</p>
<p>First, it saves memory. Text is very “expensive” in terms of memory allocation and processing speed, so using simpler data structure makes R faster.</p>
<p>Second, when a variable is set as a factor, R recognizes that it represents a group and it can deploy object-oriented functionality. When you use a factor in analysis, R knows that you want to split the analysis up by groups.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">height &lt;-<span class="st"> </span><span class="kw">c</span>( <span class="dv">70</span>, <span class="dv">68</span>, <span class="dv">62</span>, <span class="dv">64</span>, <span class="dv">72</span>, <span class="dv">69</span>, <span class="dv">58</span>, <span class="dv">63</span>  )</a>
<a class="sourceLine" id="cb21-2" data-line-number="2"></a>
<a class="sourceLine" id="cb21-3" data-line-number="3">strength &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">167</span>,<span class="dv">185</span>,<span class="dv">119</span>,<span class="dv">142</span>,<span class="dv">175</span>,<span class="dv">204</span>,<span class="dv">124</span>,<span class="dv">117</span>)</a>
<a class="sourceLine" id="cb21-4" data-line-number="4"></a>
<a class="sourceLine" id="cb21-5" data-line-number="5">sex &lt;-<span class="st"> </span><span class="kw">factor</span>( <span class="kw">c</span>(<span class="st">&quot;male&quot;</span>,<span class="st">&quot;male&quot;</span>,<span class="st">&quot;female&quot;</span>,<span class="st">&quot;female&quot;</span>,<span class="st">&quot;male&quot;</span>,<span class="st">&quot;male&quot;</span>,<span class="st">&quot;female&quot;</span>,<span class="st">&quot;female&quot;</span> ) )</a>
<a class="sourceLine" id="cb21-6" data-line-number="6"></a>
<a class="sourceLine" id="cb21-7" data-line-number="7"><span class="kw">plot</span>( height, strength )   <span class="co"># simple scatter plot</span></a>
<a class="sourceLine" id="cb21-8" data-line-number="8"></a>
<a class="sourceLine" id="cb21-9" data-line-number="9"><span class="kw">plot</span>( sex, strength )      <span class="co"># box and whisker plot       </span></a></code></pre></div>
<p><img src="DS4PS-I_files/figure-html/unnamed-chunk-27-1.png" width="70%" style="display: block; margin: auto;" /><img src="DS4PS-I_files/figure-html/unnamed-chunk-27-2.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Factors are more memory efficient than character vectors because they store the underlying data as a numeric vector instead of a categorical (text) vector. Each group in the data is assigned a number, and when printing items the program only has to remember which group corresponds to which number:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">sex</a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="co">### [1] male   male   female female male   male   female female</span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3"><span class="co">### Levels: female male</span></a>
<a class="sourceLine" id="cb22-4" data-line-number="4"></a>
<a class="sourceLine" id="cb22-5" data-line-number="5"><span class="kw">as.numeric</span>( sex )</a>
<a class="sourceLine" id="cb22-6" data-line-number="6"><span class="co">### [1] 2 2 1 1 2 2 1 1</span></a>
<a class="sourceLine" id="cb22-7" data-line-number="7"></a>
<a class="sourceLine" id="cb22-8" data-line-number="8"><span class="co">#  male = 2</span></a>
<a class="sourceLine" id="cb22-9" data-line-number="9"><span class="co">#  female = 1</span></a></code></pre></div>
<p>If you print a factor, the computer just replaces each category designation with its name (2 would be replaced with “male” in this example). These replacements can be done in real time without clogging the memory of your computer as they don’t need to be saved.</p>
<p>In some instances a categorical variable might be represented by numbers. For example, grades 9-12 for high school kids. The <strong>very important</strong> rule to remember with factors is you can’t move directly from the factor to numeric using the <strong>as.numeric()</strong> casting function. This will give you the underlying data structure, but will not give you the category names. To get these, you need the <strong>as.character</strong> casting function.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"></a>
<a class="sourceLine" id="cb23-2" data-line-number="2">grades &lt;-<span class="st"> </span><span class="kw">sample</span>( <span class="dt">x=</span><span class="dv">9</span><span class="op">:</span><span class="dv">12</span>, <span class="dt">size=</span><span class="dv">10</span>, <span class="dt">replace=</span>T )</a>
<a class="sourceLine" id="cb23-3" data-line-number="3"></a>
<a class="sourceLine" id="cb23-4" data-line-number="4">grades</a>
<a class="sourceLine" id="cb23-5" data-line-number="5"><span class="co">###  [1] 10 10 11 10 12 12 12 12  9  9</span></a>
<a class="sourceLine" id="cb23-6" data-line-number="6"></a>
<a class="sourceLine" id="cb23-7" data-line-number="7">grades &lt;-<span class="st"> </span><span class="kw">as.factor</span>( grades )</a>
<a class="sourceLine" id="cb23-8" data-line-number="8"></a>
<a class="sourceLine" id="cb23-9" data-line-number="9">grades</a>
<a class="sourceLine" id="cb23-10" data-line-number="10"><span class="co">###  [1] 10 10 11 10 12 12 12 12 9  9 </span></a>
<a class="sourceLine" id="cb23-11" data-line-number="11"><span class="co">### Levels: 9 10 11 12</span></a>
<a class="sourceLine" id="cb23-12" data-line-number="12"></a>
<a class="sourceLine" id="cb23-13" data-line-number="13"><span class="kw">as.numeric</span>( grades )</a>
<a class="sourceLine" id="cb23-14" data-line-number="14"><span class="co">###  [1] 2 2 3 2 4 4 4 4 1 1</span></a>
<a class="sourceLine" id="cb23-15" data-line-number="15"></a>
<a class="sourceLine" id="cb23-16" data-line-number="16"><span class="kw">as.character</span>( grades )</a>
<a class="sourceLine" id="cb23-17" data-line-number="17"><span class="co">###  [1] &quot;10&quot; &quot;10&quot; &quot;11&quot; &quot;10&quot; &quot;12&quot; &quot;12&quot; &quot;12&quot; &quot;12&quot; &quot;9&quot;  &quot;9&quot;</span></a>
<a class="sourceLine" id="cb23-18" data-line-number="18"></a>
<a class="sourceLine" id="cb23-19" data-line-number="19"><span class="co"># to get back to the original numeric vector</span></a>
<a class="sourceLine" id="cb23-20" data-line-number="20"></a>
<a class="sourceLine" id="cb23-21" data-line-number="21"><span class="kw">as.numeric</span>( <span class="kw">as.character</span>( grades ))</a>
<a class="sourceLine" id="cb23-22" data-line-number="22"><span class="co">###  [1] 10 10 11 10 12 12 12 12  9  9</span></a></code></pre></div>
<p>Note that when sub-setting a factor, it will retain all of the original levels, even when they are not in use.</p>
<p>In this example, there are 37 teams in the Lahman dataset (some of them defunct) and 16 teams in the National League in 2002. But after applying the year and league subsets you will still have 37 levels.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"></a>
<a class="sourceLine" id="cb24-2" data-line-number="2"><span class="co"># there are only 16 teams in the NL in 2002</span></a>
<a class="sourceLine" id="cb24-3" data-line-number="3"></a>
<a class="sourceLine" id="cb24-4" data-line-number="4">sals<span class="fl">.2002</span> &lt;-<span class="st"> </span>Salaries [Salaries<span class="op">$</span>yearID<span class="op">==</span><span class="st">&quot;2002&quot;</span>, ]</a>
<a class="sourceLine" id="cb24-5" data-line-number="5">nl.sals &lt;-<span class="st"> </span>sals<span class="fl">.2002</span> [ sals<span class="fl">.2002</span><span class="op">$</span>lgID <span class="op">==</span><span class="st"> &quot;NL&quot;</span>,]</a>
<a class="sourceLine" id="cb24-6" data-line-number="6"><span class="kw">levels</span>( nl.sals<span class="op">$</span>teamID )</a>
<a class="sourceLine" id="cb24-7" data-line-number="7"><span class="co">###  [1] &quot;ANA&quot; &quot;ARI&quot; &quot;ATL&quot; &quot;BAL&quot; &quot;BOS&quot; &quot;CAL&quot; &quot;CHA&quot; &quot;CHC&quot; &quot;CHN&quot; &quot;CHW&quot; &quot;CIN&quot;</span></a>
<a class="sourceLine" id="cb24-8" data-line-number="8"><span class="co">### [12] &quot;CLE&quot; &quot;COL&quot; &quot;DET&quot; &quot;FLO&quot; &quot;HOU&quot; &quot;KCA&quot; &quot;KCR&quot; &quot;LAA&quot; &quot;LAD&quot; &quot;LAN&quot; &quot;MIA&quot;</span></a>
<a class="sourceLine" id="cb24-9" data-line-number="9"><span class="co">### [23] &quot;MIL&quot; &quot;MIN&quot; &quot;ML4&quot; &quot;MON&quot; &quot;NYA&quot; &quot;NYM&quot; &quot;NYN&quot; &quot;NYY&quot; &quot;OAK&quot; &quot;PHI&quot; &quot;PIT&quot;</span></a>
<a class="sourceLine" id="cb24-10" data-line-number="10"><span class="co">### [34] &quot;SDN&quot; &quot;SDP&quot; &quot;SEA&quot; &quot;SFG&quot; &quot;SFN&quot; &quot;SLN&quot; &quot;STL&quot; &quot;TBA&quot; &quot;TBR&quot; &quot;TEX&quot; &quot;TOR&quot;</span></a>
<a class="sourceLine" id="cb24-11" data-line-number="11"><span class="co">### [45] &quot;WAS&quot; &quot;WSN&quot;</span></a></code></pre></div>
<p>After applying a subset, in order to remove the unused factor levels you need to apply either droplevels(), or else recast your factor as a new factor.</p>
<p>For example:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"></a>
<a class="sourceLine" id="cb25-2" data-line-number="2">sals<span class="fl">.2002</span> &lt;-<span class="st"> </span>Salaries [Salaries<span class="op">$</span>yearID<span class="op">==</span><span class="st">&quot;2002&quot;</span>, ]</a>
<a class="sourceLine" id="cb25-3" data-line-number="3"></a>
<a class="sourceLine" id="cb25-4" data-line-number="4">nl.sals &lt;-<span class="st"> </span>sals<span class="fl">.2002</span> [ sals<span class="fl">.2002</span><span class="op">$</span>lgID <span class="op">==</span><span class="st"> &quot;NL&quot;</span>,]</a>
<a class="sourceLine" id="cb25-5" data-line-number="5"><span class="kw">levels</span>( nl.sals<span class="op">$</span>teamID )</a>
<a class="sourceLine" id="cb25-6" data-line-number="6"><span class="co">###  [1] &quot;ANA&quot; &quot;ARI&quot; &quot;ATL&quot; &quot;BAL&quot; &quot;BOS&quot; &quot;CAL&quot; &quot;CHA&quot; &quot;CHC&quot; &quot;CHN&quot; &quot;CHW&quot; &quot;CIN&quot;</span></a>
<a class="sourceLine" id="cb25-7" data-line-number="7"><span class="co">### [12] &quot;CLE&quot; &quot;COL&quot; &quot;DET&quot; &quot;FLO&quot; &quot;HOU&quot; &quot;KCA&quot; &quot;KCR&quot; &quot;LAA&quot; &quot;LAD&quot; &quot;LAN&quot; &quot;MIA&quot;</span></a>
<a class="sourceLine" id="cb25-8" data-line-number="8"><span class="co">### [23] &quot;MIL&quot; &quot;MIN&quot; &quot;ML4&quot; &quot;MON&quot; &quot;NYA&quot; &quot;NYM&quot; &quot;NYN&quot; &quot;NYY&quot; &quot;OAK&quot; &quot;PHI&quot; &quot;PIT&quot;</span></a>
<a class="sourceLine" id="cb25-9" data-line-number="9"><span class="co">### [34] &quot;SDN&quot; &quot;SDP&quot; &quot;SEA&quot; &quot;SFG&quot; &quot;SFN&quot; &quot;SLN&quot; &quot;STL&quot; &quot;TBA&quot; &quot;TBR&quot; &quot;TEX&quot; &quot;TOR&quot;</span></a>
<a class="sourceLine" id="cb25-10" data-line-number="10"><span class="co">### [45] &quot;WAS&quot; &quot;WSN&quot;</span></a>
<a class="sourceLine" id="cb25-11" data-line-number="11"></a>
<a class="sourceLine" id="cb25-12" data-line-number="12"><span class="co"># fix in one of two equivalent ways:</span></a>
<a class="sourceLine" id="cb25-13" data-line-number="13"><span class="co">#</span></a>
<a class="sourceLine" id="cb25-14" data-line-number="14"><span class="co"># nl.sals$teamID &lt;- droplevels( nl.sals$teamID )</span></a>
<a class="sourceLine" id="cb25-15" data-line-number="15"><span class="co"># nl.sals$teamID &lt;- factor( nl.sals$teamID )</span></a>
<a class="sourceLine" id="cb25-16" data-line-number="16"></a>
<a class="sourceLine" id="cb25-17" data-line-number="17"><span class="kw">levels</span>( nl.sals<span class="op">$</span>teamID )</a>
<a class="sourceLine" id="cb25-18" data-line-number="18"><span class="co">###  [1] &quot;ANA&quot; &quot;ARI&quot; &quot;ATL&quot; &quot;BAL&quot; &quot;BOS&quot; &quot;CAL&quot; &quot;CHA&quot; &quot;CHC&quot; &quot;CHN&quot; &quot;CHW&quot; &quot;CIN&quot;</span></a>
<a class="sourceLine" id="cb25-19" data-line-number="19"><span class="co">### [12] &quot;CLE&quot; &quot;COL&quot; &quot;DET&quot; &quot;FLO&quot; &quot;HOU&quot; &quot;KCA&quot; &quot;KCR&quot; &quot;LAA&quot; &quot;LAD&quot; &quot;LAN&quot; &quot;MIA&quot;</span></a>
<a class="sourceLine" id="cb25-20" data-line-number="20"><span class="co">### [23] &quot;MIL&quot; &quot;MIN&quot; &quot;ML4&quot; &quot;MON&quot; &quot;NYA&quot; &quot;NYM&quot; &quot;NYN&quot; &quot;NYY&quot; &quot;OAK&quot; &quot;PHI&quot; &quot;PIT&quot;</span></a>
<a class="sourceLine" id="cb25-21" data-line-number="21"><span class="co">### [34] &quot;SDN&quot; &quot;SDP&quot; &quot;SEA&quot; &quot;SFG&quot; &quot;SFN&quot; &quot;SLN&quot; &quot;STL&quot; &quot;TBA&quot; &quot;TBR&quot; &quot;TEX&quot; &quot;TOR&quot;</span></a>
<a class="sourceLine" id="cb25-22" data-line-number="22"><span class="co">### [45] &quot;WAS&quot; &quot;WSN&quot;</span></a>
<a class="sourceLine" id="cb25-23" data-line-number="23">nl.sals<span class="op">$</span>teamID &lt;-<span class="st"> </span><span class="kw">droplevels</span>( nl.sals<span class="op">$</span>teamID )</a>
<a class="sourceLine" id="cb25-24" data-line-number="24"><span class="kw">levels</span>( nl.sals<span class="op">$</span>teamID )</a>
<a class="sourceLine" id="cb25-25" data-line-number="25"><span class="co">###  [1] &quot;ARI&quot; &quot;ATL&quot; &quot;CHN&quot; &quot;CIN&quot; &quot;COL&quot; &quot;FLO&quot; &quot;HOU&quot; &quot;LAN&quot; &quot;MIL&quot; &quot;MON&quot; &quot;NYN&quot;</span></a>
<a class="sourceLine" id="cb25-26" data-line-number="26"><span class="co">### [12] &quot;PHI&quot; &quot;PIT&quot; &quot;SDN&quot; &quot;SFN&quot; &quot;SLN&quot;</span></a></code></pre></div>
<p>TIP: When reading data from Excel spreadsheets (usually saved in the comma separated value or CSV format), remember to include the following argument to prevent the creation of factors, which can produce some annoying behaviors.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"></a>
<a class="sourceLine" id="cb26-2" data-line-number="2">dat &lt;-<span class="st"> </span><span class="kw">read.csv</span>( <span class="st">&quot;filename.csv&quot;</span>, <span class="dt">stringsAsFactors=</span>F )</a></code></pre></div>
</div>
<div id="logical-vectors" class="section level2">
<h2><span class="header-section-number">3.9</span> Logical Vectors</h2>
<p>Logical vectors are collections of a set of TRUE and FALSE statements.</p>
<p>Logical statements allow us to define groups based upon criteria, then decide whether observations belong to the group. A logical statement is one that contains a logical operator, and returns only TRUE, FALSE, or NA values.</p>
<p>Logical vectors are important because organizing data into these sets is what drives all of the advanced data analytics (set theory is at the basis of mathematics and computer science).</p>
<table style="width:57%;">
<colgroup>
<col width="11%" />
<col width="12%" />
<col width="16%" />
<col width="16%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">name</th>
<th align="center">sex</th>
<th align="center">treat</th>
<th align="center">strength</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">adam</td>
<td align="center">male</td>
<td align="center">treatment</td>
<td align="center">167</td>
</tr>
<tr class="even">
<td align="center">jamal</td>
<td align="center">male</td>
<td align="center">control</td>
<td align="center">185</td>
</tr>
<tr class="odd">
<td align="center">linda</td>
<td align="center">female</td>
<td align="center">treatment</td>
<td align="center">119</td>
</tr>
<tr class="even">
<td align="center">sriti</td>
<td align="center">female</td>
<td align="center">control</td>
<td align="center">142</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">dat<span class="op">$</span>name <span class="op">==</span><span class="st"> &quot;sriti&quot;</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2"><span class="co">### [1] FALSE FALSE FALSE  TRUE</span></a>
<a class="sourceLine" id="cb27-3" data-line-number="3"></a>
<a class="sourceLine" id="cb27-4" data-line-number="4">dat<span class="op">$</span>sex <span class="op">==</span><span class="st"> &quot;male&quot;</span></a>
<a class="sourceLine" id="cb27-5" data-line-number="5"><span class="co">### [1]  TRUE  TRUE FALSE FALSE</span></a>
<a class="sourceLine" id="cb27-6" data-line-number="6"></a>
<a class="sourceLine" id="cb27-7" data-line-number="7">dat<span class="op">$</span>strength <span class="op">&gt;</span><span class="st"> </span><span class="dv">180</span></a>
<a class="sourceLine" id="cb27-8" data-line-number="8"><span class="co">### [1] FALSE  TRUE FALSE FALSE</span></a></code></pre></div>
<p>When defining logical vectors, you can use the abbreviated versions of T for TRUE and F for FALSE.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">z1 &lt;-<span class="st"> </span><span class="kw">c</span>(T,T,F,T,F,F)</a>
<a class="sourceLine" id="cb28-2" data-line-number="2">z1</a>
<a class="sourceLine" id="cb28-3" data-line-number="3"><span class="co">### [1]  TRUE  TRUE FALSE  TRUE FALSE FALSE</span></a></code></pre></div>
<p>Typically logical vectors are used in combination with subset operators to identify specific groups in the data.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="co"># isolate data on all of the females in the dataset</span></a>
<a class="sourceLine" id="cb29-2" data-line-number="2">dat[ dat<span class="op">$</span>sex <span class="op">==</span><span class="st"> &quot;female&quot;</span> , ]</a>
<a class="sourceLine" id="cb29-3" data-line-number="3"><span class="co">###    name    sex     treat strength</span></a>
<a class="sourceLine" id="cb29-4" data-line-number="4"><span class="co">### 3 linda female treatment      119</span></a>
<a class="sourceLine" id="cb29-5" data-line-number="5"><span class="co">### 4 sriti female   control      142</span></a></code></pre></div>
<p>See the next chapter for more details on subsets.</p>
</div>
<div id="generating-vectors" class="section level2">
<h2><span class="header-section-number">3.10</span> Generating Vectors</h2>
<p>You will often need to generate vectors for data transformations or simulations. Here are the most common functions that will be helpful.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"></a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="co"># repeat a number, or series of numbers</span></a>
<a class="sourceLine" id="cb30-3" data-line-number="3"></a>
<a class="sourceLine" id="cb30-4" data-line-number="4"><span class="kw">rep</span>( <span class="dt">x=</span><span class="dv">9</span>, <span class="dt">times=</span><span class="dv">5</span> )</a>
<a class="sourceLine" id="cb30-5" data-line-number="5"><span class="co">### [1] 9 9 9 9 9</span></a>
<a class="sourceLine" id="cb30-6" data-line-number="6"></a>
<a class="sourceLine" id="cb30-7" data-line-number="7"><span class="kw">rep</span>( <span class="dt">x=</span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">7</span>), <span class="dt">times=</span><span class="dv">5</span> )</a>
<a class="sourceLine" id="cb30-8" data-line-number="8"><span class="co">###  [1] 5 7 5 7 5 7 5 7 5 7</span></a>
<a class="sourceLine" id="cb30-9" data-line-number="9"></a>
<a class="sourceLine" id="cb30-10" data-line-number="10"><span class="kw">rep</span>( <span class="dt">x=</span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">7</span>), <span class="dt">each=</span><span class="dv">5</span> )</a>
<a class="sourceLine" id="cb30-11" data-line-number="11"><span class="co">###  [1] 5 5 5 5 5 7 7 7 7 7</span></a>
<a class="sourceLine" id="cb30-12" data-line-number="12"></a>
<a class="sourceLine" id="cb30-13" data-line-number="13"><span class="kw">rep</span>( <span class="dt">x=</span><span class="kw">c</span>(<span class="st">&quot;treatment&quot;</span>,<span class="st">&quot;control&quot;</span>), <span class="dt">each=</span><span class="dv">5</span> )  <span class="co"># also works to create categories</span></a>
<a class="sourceLine" id="cb30-14" data-line-number="14"><span class="co">###  [1] &quot;treatment&quot; &quot;treatment&quot; &quot;treatment&quot; &quot;treatment&quot; &quot;treatment&quot;</span></a>
<a class="sourceLine" id="cb30-15" data-line-number="15"><span class="co">###  [6] &quot;control&quot;   &quot;control&quot;   &quot;control&quot;   &quot;control&quot;   &quot;control&quot;</span></a>
<a class="sourceLine" id="cb30-16" data-line-number="16"></a>
<a class="sourceLine" id="cb30-17" data-line-number="17"></a>
<a class="sourceLine" id="cb30-18" data-line-number="18"><span class="co"># create a sequence of numbers</span></a>
<a class="sourceLine" id="cb30-19" data-line-number="19"></a>
<a class="sourceLine" id="cb30-20" data-line-number="20"><span class="kw">seq</span>( <span class="dt">from=</span><span class="dv">1</span>, <span class="dt">to=</span><span class="dv">15</span>, <span class="dt">by=</span><span class="dv">1</span> )</a>
<a class="sourceLine" id="cb30-21" data-line-number="21"><span class="co">###  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15</span></a>
<a class="sourceLine" id="cb30-22" data-line-number="22"></a>
<a class="sourceLine" id="cb30-23" data-line-number="23"><span class="kw">seq</span>( <span class="dt">from=</span><span class="dv">1</span>, <span class="dt">to=</span><span class="dv">15</span>, <span class="dt">by=</span><span class="dv">3</span> )</a>
<a class="sourceLine" id="cb30-24" data-line-number="24"><span class="co">### [1]  1  4  7 10 13</span></a>
<a class="sourceLine" id="cb30-25" data-line-number="25"></a>
<a class="sourceLine" id="cb30-26" data-line-number="26"><span class="dv">1</span><span class="op">:</span><span class="dv">15</span>   <span class="co"># shorthand if by=1</span></a>
<a class="sourceLine" id="cb30-27" data-line-number="27"><span class="co">###  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15</span></a>
<a class="sourceLine" id="cb30-28" data-line-number="28"></a>
<a class="sourceLine" id="cb30-29" data-line-number="29"></a>
<a class="sourceLine" id="cb30-30" data-line-number="30"></a>
<a class="sourceLine" id="cb30-31" data-line-number="31"><span class="co"># create a random sample</span></a>
<a class="sourceLine" id="cb30-32" data-line-number="32"></a>
<a class="sourceLine" id="cb30-33" data-line-number="33">hat &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;f&quot;</span>)</a>
<a class="sourceLine" id="cb30-34" data-line-number="34"></a>
<a class="sourceLine" id="cb30-35" data-line-number="35"><span class="kw">sample</span>( <span class="dt">x=</span>hat, <span class="dt">size=</span><span class="dv">3</span>, <span class="dt">replace=</span><span class="ot">FALSE</span> )</a>
<a class="sourceLine" id="cb30-36" data-line-number="36"><span class="co">### [1] &quot;f&quot; &quot;b&quot; &quot;b&quot;</span></a>
<a class="sourceLine" id="cb30-37" data-line-number="37"><span class="kw">sample</span>( <span class="dt">x=</span>hat, <span class="dt">size=</span><span class="dv">3</span>, <span class="dt">replace=</span><span class="ot">FALSE</span> )</a>
<a class="sourceLine" id="cb30-38" data-line-number="38"><span class="co">### [1] &quot;f&quot; &quot;c&quot; &quot;a&quot;</span></a>
<a class="sourceLine" id="cb30-39" data-line-number="39"><span class="kw">sample</span>( <span class="dt">x=</span>hat, <span class="dt">size=</span><span class="dv">3</span>, <span class="dt">replace=</span><span class="ot">FALSE</span> )</a>
<a class="sourceLine" id="cb30-40" data-line-number="40"><span class="co">### [1] &quot;b&quot; &quot;c&quot; &quot;a&quot;</span></a>
<a class="sourceLine" id="cb30-41" data-line-number="41"></a>
<a class="sourceLine" id="cb30-42" data-line-number="42"><span class="co"># for multiple samples use replacement</span></a>
<a class="sourceLine" id="cb30-43" data-line-number="43"></a>
<a class="sourceLine" id="cb30-44" data-line-number="44"><span class="kw">sample</span>( <span class="dt">x=</span>hat, <span class="dt">size=</span><span class="dv">10</span>, <span class="dt">replace=</span><span class="ot">TRUE</span> )</a>
<a class="sourceLine" id="cb30-45" data-line-number="45"><span class="co">###  [1] &quot;c&quot; &quot;f&quot; &quot;a&quot; &quot;f&quot; &quot;a&quot; &quot;a&quot; &quot;c&quot; &quot;b&quot; &quot;c&quot; &quot;f&quot;</span></a>
<a class="sourceLine" id="cb30-46" data-line-number="46"></a>
<a class="sourceLine" id="cb30-47" data-line-number="47"></a>
<a class="sourceLine" id="cb30-48" data-line-number="48"></a>
<a class="sourceLine" id="cb30-49" data-line-number="49"></a>
<a class="sourceLine" id="cb30-50" data-line-number="50"></a>
<a class="sourceLine" id="cb30-51" data-line-number="51"><span class="co"># create data that follows a normal curve</span></a>
<a class="sourceLine" id="cb30-52" data-line-number="52"></a>
<a class="sourceLine" id="cb30-53" data-line-number="53">iq &lt;-<span class="st"> </span><span class="kw">rnorm</span>( <span class="dt">n=</span><span class="dv">1000</span>, <span class="dt">mean=</span><span class="dv">100</span>, <span class="dt">sd=</span><span class="dv">15</span> )</a>
<a class="sourceLine" id="cb30-54" data-line-number="54"></a>
<a class="sourceLine" id="cb30-55" data-line-number="55"><span class="kw">hist</span>( iq, <span class="dt">col=</span><span class="st">&quot;gray&quot;</span> )</a></code></pre></div>
<p><img src="DS4PS-I_files/figure-html/unnamed-chunk-37-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="variable-transformations" class="section level2">
<h2><span class="header-section-number">3.11</span> Variable Transformations</h2>
<p>When we create a new variable from existing variables, it is called a ‘transformation’. This is very common in data science. Crime is measures by the number of assaults <em>per 100,000 people</em>, for example (crime / pop). A batting average is the number of hits divided by the number of at bats.</p>
<p>In R, mathematical operations are <em>vectorized</em>, which means that operations are performed on the entire vector all at once. This makes transformations fast and easy.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"></a>
<a class="sourceLine" id="cb31-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb31-3" data-line-number="3"></a>
<a class="sourceLine" id="cb31-4" data-line-number="4">x <span class="op">+</span><span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb31-5" data-line-number="5"><span class="co">###  [1]  6  7  8  9 10 11 12 13 14 15</span></a>
<a class="sourceLine" id="cb31-6" data-line-number="6"></a>
<a class="sourceLine" id="cb31-7" data-line-number="7">x <span class="op">*</span><span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb31-8" data-line-number="8"><span class="co">###  [1]  5 10 15 20 25 30 35 40 45 50</span></a></code></pre></div>
<p>R uses a convention called “recycling”, which means that it will re-use elements of a vector if necessary. In the example below the x vector has 10 elements, but the y vector only has 5 elements. When we run out of y, we just start over from the beginning. This is powerful in some instances, but can be dangerous in others if you don’t realize that that it is happening.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"></a>
<a class="sourceLine" id="cb32-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb32-3" data-line-number="3"></a>
<a class="sourceLine" id="cb32-4" data-line-number="4">y &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb32-5" data-line-number="5"></a>
<a class="sourceLine" id="cb32-6" data-line-number="6">x <span class="op">+</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb32-7" data-line-number="7"><span class="co">###  [1]  2  4  6  8 10  7  9 11 13 15</span></a>
<a class="sourceLine" id="cb32-8" data-line-number="8"></a>
<a class="sourceLine" id="cb32-9" data-line-number="9">x <span class="op">*</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb32-10" data-line-number="10"><span class="co">###  [1]  1  4  9 16 25  6 14 24 36 50</span></a>
<a class="sourceLine" id="cb32-11" data-line-number="11"></a>
<a class="sourceLine" id="cb32-12" data-line-number="12"><span class="co"># the colors are recycled</span></a>
<a class="sourceLine" id="cb32-13" data-line-number="13"></a>
<a class="sourceLine" id="cb32-14" data-line-number="14"><span class="kw">plot</span>( <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">col=</span><span class="kw">c</span>(<span class="st">&quot;red&quot;</span>,<span class="st">&quot;blue&quot;</span>), <span class="dt">pch=</span><span class="dv">19</span>, <span class="dt">cex=</span><span class="dv">3</span> )</a></code></pre></div>
<p><img src="DS4PS-I_files/figure-html/unnamed-chunk-39-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Here is an example of recycling gone wrong:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"></a>
<a class="sourceLine" id="cb33-2" data-line-number="2">x1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">167</span>,<span class="dv">185</span>,<span class="dv">119</span>,<span class="dv">142</span>)</a>
<a class="sourceLine" id="cb33-3" data-line-number="3"></a>
<a class="sourceLine" id="cb33-4" data-line-number="4">x2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;adam&quot;</span>,<span class="st">&quot;jamal&quot;</span>,<span class="st">&quot;linda&quot;</span>,<span class="st">&quot;sriti&quot;</span>)</a>
<a class="sourceLine" id="cb33-5" data-line-number="5"></a>
<a class="sourceLine" id="cb33-6" data-line-number="6">x3 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;male&quot;</span>,<span class="st">&quot;male&quot;</span>,<span class="st">&quot;female&quot;</span>,<span class="st">&quot;female&quot;</span>)</a>
<a class="sourceLine" id="cb33-7" data-line-number="7"></a>
<a class="sourceLine" id="cb33-8" data-line-number="8">x4 &lt;-<span class="st"> </span><span class="kw">c</span>( <span class="st">&quot;treatment&quot;</span>,<span class="st">&quot;contro&quot;</span>,<span class="st">&quot;treatment&quot;</span>,<span class="st">&quot;control&quot;</span> )</a>
<a class="sourceLine" id="cb33-9" data-line-number="9"></a>
<a class="sourceLine" id="cb33-10" data-line-number="10">dat &lt;-<span class="st"> </span><span class="kw">data.frame</span>( <span class="dt">name=</span>x2, <span class="dt">sex=</span>x3, <span class="dt">treat=</span>x4, <span class="dt">strength=</span>x1 )</a>
<a class="sourceLine" id="cb33-11" data-line-number="11"></a>
<a class="sourceLine" id="cb33-12" data-line-number="12"></a>
<a class="sourceLine" id="cb33-13" data-line-number="13"><span class="co"># create a subset of data of all female study participants</span></a>
<a class="sourceLine" id="cb33-14" data-line-number="14"></a>
<a class="sourceLine" id="cb33-15" data-line-number="15">dat<span class="op">$</span>sex <span class="op">==</span><span class="st"> &quot;female&quot;</span></a>
<a class="sourceLine" id="cb33-16" data-line-number="16"><span class="co">### [1] FALSE FALSE  TRUE  TRUE</span></a>
<a class="sourceLine" id="cb33-17" data-line-number="17"></a>
<a class="sourceLine" id="cb33-18" data-line-number="18">these &lt;-<span class="st"> </span>dat<span class="op">$</span>sex <span class="op">==</span><span class="st"> &quot;female&quot;</span></a>
<a class="sourceLine" id="cb33-19" data-line-number="19"></a>
<a class="sourceLine" id="cb33-20" data-line-number="20">dat[ these, ]  <span class="co"># correct subset</span></a>
<a class="sourceLine" id="cb33-21" data-line-number="21"><span class="co">###    name    sex     treat strength</span></a>
<a class="sourceLine" id="cb33-22" data-line-number="22"><span class="co">### 3 linda female treatment      119</span></a>
<a class="sourceLine" id="cb33-23" data-line-number="23"><span class="co">### 4 sriti female   control      142</span></a>
<a class="sourceLine" id="cb33-24" data-line-number="24"></a>
<a class="sourceLine" id="cb33-25" data-line-number="25"></a>
<a class="sourceLine" id="cb33-26" data-line-number="26"><span class="co"># same thing, but i mess is up - the female element is recycled in the overwrite</span></a>
<a class="sourceLine" id="cb33-27" data-line-number="27"></a>
<a class="sourceLine" id="cb33-28" data-line-number="28">dat<span class="op">$</span>sex =<span class="st"> &quot;female&quot;</span>    <span class="co"># whoops just over-wrote my data! should be double equal</span></a>
<a class="sourceLine" id="cb33-29" data-line-number="29"></a>
<a class="sourceLine" id="cb33-30" data-line-number="30">these &lt;-<span class="st"> </span>dat<span class="op">$</span>sex <span class="op">==</span><span class="st"> &quot;female&quot;</span> </a>
<a class="sourceLine" id="cb33-31" data-line-number="31"></a>
<a class="sourceLine" id="cb33-32" data-line-number="32">dat[ these , ]</a>
<a class="sourceLine" id="cb33-33" data-line-number="33"><span class="co">###    name    sex     treat strength</span></a>
<a class="sourceLine" id="cb33-34" data-line-number="34"><span class="co">### 1  adam female treatment      167</span></a>
<a class="sourceLine" id="cb33-35" data-line-number="35"><span class="co">### 2 jamal female    contro      185</span></a>
<a class="sourceLine" id="cb33-36" data-line-number="36"><span class="co">### 3 linda female treatment      119</span></a>
<a class="sourceLine" id="cb33-37" data-line-number="37"><span class="co">### 4 sriti female   control      142</span></a></code></pre></div>
</div>
<div id="missing-values-nas" class="section level2">
<h2><span class="header-section-number">3.12</span> Missing Values: NA’s</h2>
<p>Missing values are coded differently in each data analysis program. SPSS uses a period, for example. In R, missing values are coded as “NA”.</p>
<p>The important thing to note is that R wants to make sure you know there are missing values if you are conducting analysis. As a result, it will give you the answer of “NA” when you try to do math with a vector that includes a missing value. You have to ask it explicitly to ignore the missing value.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1">x5 &lt;-<span class="st"> </span><span class="kw">c</span>( <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span> )</a>
<a class="sourceLine" id="cb34-2" data-line-number="2"></a>
<a class="sourceLine" id="cb34-3" data-line-number="3">x5</a>
<a class="sourceLine" id="cb34-4" data-line-number="4"><span class="co">### [1] 1 2 3 4</span></a>
<a class="sourceLine" id="cb34-5" data-line-number="5"></a>
<a class="sourceLine" id="cb34-6" data-line-number="6"><span class="kw">sum</span>( x5 )</a>
<a class="sourceLine" id="cb34-7" data-line-number="7"><span class="co">### [1] 10</span></a>
<a class="sourceLine" id="cb34-8" data-line-number="8"></a>
<a class="sourceLine" id="cb34-9" data-line-number="9"><span class="kw">mean</span>( x5 )</a>
<a class="sourceLine" id="cb34-10" data-line-number="10"><span class="co">### [1] 2.5</span></a>
<a class="sourceLine" id="cb34-11" data-line-number="11"></a>
<a class="sourceLine" id="cb34-12" data-line-number="12">x5 &lt;-<span class="st"> </span><span class="kw">c</span>( <span class="dv">1</span>, <span class="dv">2</span>, <span class="ot">NA</span>, <span class="dv">4</span> )</a>
<a class="sourceLine" id="cb34-13" data-line-number="13"></a>
<a class="sourceLine" id="cb34-14" data-line-number="14">x5</a>
<a class="sourceLine" id="cb34-15" data-line-number="15"><span class="co">### [1]  1  2 NA  4</span></a>
<a class="sourceLine" id="cb34-16" data-line-number="16"></a>
<a class="sourceLine" id="cb34-17" data-line-number="17"><span class="co"># should missing values be treated as zeros or dropped? </span></a>
<a class="sourceLine" id="cb34-18" data-line-number="18"></a>
<a class="sourceLine" id="cb34-19" data-line-number="19"><span class="kw">sum</span>( x5 )</a>
<a class="sourceLine" id="cb34-20" data-line-number="20"><span class="co">### [1] NA</span></a>
<a class="sourceLine" id="cb34-21" data-line-number="21"></a>
<a class="sourceLine" id="cb34-22" data-line-number="22"><span class="kw">mean</span>( x5 )</a>
<a class="sourceLine" id="cb34-23" data-line-number="23"><span class="co">### [1] NA</span></a>
<a class="sourceLine" id="cb34-24" data-line-number="24"></a>
<a class="sourceLine" id="cb34-25" data-line-number="25"><span class="kw">sum</span>( x5, <span class="dt">na.rm=</span>T )   <span class="co"># na.rm=T argument drops missing values</span></a>
<a class="sourceLine" id="cb34-26" data-line-number="26"><span class="co">### [1] 7</span></a>
<a class="sourceLine" id="cb34-27" data-line-number="27"></a>
<a class="sourceLine" id="cb34-28" data-line-number="28"><span class="kw">mean</span>( x5, <span class="dt">na.rm=</span>T )  <span class="co"># na.rm=T argument drops missing values</span></a>
<a class="sourceLine" id="cb34-29" data-line-number="29"><span class="co">### [1] 2.333333</span></a></code></pre></div>
<p>You cannot use the <em>==</em> operator to identify missing values in a dataset. There is a special <strong>is.na()</strong> function to locate all of the missing values in a vector.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"></a>
<a class="sourceLine" id="cb35-2" data-line-number="2">x5</a>
<a class="sourceLine" id="cb35-3" data-line-number="3"><span class="co">### [1]  1  2 NA  4</span></a>
<a class="sourceLine" id="cb35-4" data-line-number="4"></a>
<a class="sourceLine" id="cb35-5" data-line-number="5">x5 <span class="op">==</span><span class="st"> </span><span class="ot">NA</span>    <span class="co"># this does not do what you want</span></a>
<a class="sourceLine" id="cb35-6" data-line-number="6"><span class="co">### [1] NA NA NA NA</span></a>
<a class="sourceLine" id="cb35-7" data-line-number="7"></a>
<a class="sourceLine" id="cb35-8" data-line-number="8"><span class="kw">is.na</span>( x5 )    <span class="co"># much better</span></a>
<a class="sourceLine" id="cb35-9" data-line-number="9"><span class="co">### [1] FALSE FALSE  TRUE FALSE</span></a>
<a class="sourceLine" id="cb35-10" data-line-number="10"></a>
<a class="sourceLine" id="cb35-11" data-line-number="11"><span class="op">!</span><span class="st"> </span><span class="kw">is.na</span>( x5 )  <span class="co"># if you want to create a selector vector to drop missing values </span></a>
<a class="sourceLine" id="cb35-12" data-line-number="12"><span class="co">### [1]  TRUE  TRUE FALSE  TRUE</span></a>
<a class="sourceLine" id="cb35-13" data-line-number="13"></a>
<a class="sourceLine" id="cb35-14" data-line-number="14">x5[ <span class="op">!</span><span class="st"> </span><span class="kw">is.na</span>(x5) ]</a>
<a class="sourceLine" id="cb35-15" data-line-number="15"><span class="co">### [1] 1 2 4</span></a>
<a class="sourceLine" id="cb35-16" data-line-number="16"></a>
<a class="sourceLine" id="cb35-17" data-line-number="17">x5[ <span class="kw">is.na</span>(x5) ] &lt;-<span class="st"> </span><span class="dv">0</span>  <span class="co"># replace missing values with zero</span></a></code></pre></div>
</div>
<div id="datasets" class="section level2">
<h2><span class="header-section-number">3.13</span> Datasets</h2>
<p>When we combine multiple vectors together, we now have a dataset. There are three main types that we will use in this class.</p>
<table>
<thead>
<tr class="header">
<th>Class</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>data frame</td>
<td>A typical data set comprised of several variables</td>
</tr>
<tr class="even">
<td>matrix</td>
<td>A data set comprised of only numbers, used for matrix math</td>
</tr>
<tr class="odd">
<td>list</td>
<td>The grab bag of data structures - several vectors held together</td>
</tr>
</tbody>
</table>
<div id="data-frames" class="section level3">
<h3><span class="header-section-number">3.13.1</span> Data Frames</h3>
<p>The most familiar spreadsheet-type data structure is called a data frame in R. It consists of rows, which represent observations, and columns, which represent variables.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1"></a>
<a class="sourceLine" id="cb36-2" data-line-number="2"><span class="kw">data</span>( USArrests )</a>
<a class="sourceLine" id="cb36-3" data-line-number="3"></a>
<a class="sourceLine" id="cb36-4" data-line-number="4"><span class="kw">dim</span>( USArrests )   <span class="co"># number of rows by number of columns</span></a>
<a class="sourceLine" id="cb36-5" data-line-number="5"><span class="co">### [1] 50  4</span></a>
<a class="sourceLine" id="cb36-6" data-line-number="6"></a>
<a class="sourceLine" id="cb36-7" data-line-number="7"><span class="kw">names</span>( USArrests )   <span class="co"># variable names or column names</span></a>
<a class="sourceLine" id="cb36-8" data-line-number="8"><span class="co">### [1] &quot;Murder&quot;   &quot;Assault&quot;  &quot;UrbanPop&quot; &quot;Rape&quot;</span></a>
<a class="sourceLine" id="cb36-9" data-line-number="9"></a>
<a class="sourceLine" id="cb36-10" data-line-number="10"><span class="kw">row.names</span>( USArrests )</a>
<a class="sourceLine" id="cb36-11" data-line-number="11"><span class="co">###  [1] &quot;Alabama&quot;        &quot;Alaska&quot;         &quot;Arizona&quot;        &quot;Arkansas&quot;      </span></a>
<a class="sourceLine" id="cb36-12" data-line-number="12"><span class="co">###  [5] &quot;California&quot;     &quot;Colorado&quot;       &quot;Connecticut&quot;    &quot;Delaware&quot;      </span></a>
<a class="sourceLine" id="cb36-13" data-line-number="13"><span class="co">###  [9] &quot;Florida&quot;        &quot;Georgia&quot;        &quot;Hawaii&quot;         &quot;Idaho&quot;         </span></a>
<a class="sourceLine" id="cb36-14" data-line-number="14"><span class="co">### [13] &quot;Illinois&quot;       &quot;Indiana&quot;        &quot;Iowa&quot;           &quot;Kansas&quot;        </span></a>
<a class="sourceLine" id="cb36-15" data-line-number="15"><span class="co">### [17] &quot;Kentucky&quot;       &quot;Louisiana&quot;      &quot;Maine&quot;          &quot;Maryland&quot;      </span></a>
<a class="sourceLine" id="cb36-16" data-line-number="16"><span class="co">### [21] &quot;Massachusetts&quot;  &quot;Michigan&quot;       &quot;Minnesota&quot;      &quot;Mississippi&quot;   </span></a>
<a class="sourceLine" id="cb36-17" data-line-number="17"><span class="co">### [25] &quot;Missouri&quot;       &quot;Montana&quot;        &quot;Nebraska&quot;       &quot;Nevada&quot;        </span></a>
<a class="sourceLine" id="cb36-18" data-line-number="18"><span class="co">### [29] &quot;New Hampshire&quot;  &quot;New Jersey&quot;     &quot;New Mexico&quot;     &quot;New York&quot;      </span></a>
<a class="sourceLine" id="cb36-19" data-line-number="19"><span class="co">### [33] &quot;North Carolina&quot; &quot;North Dakota&quot;   &quot;Ohio&quot;           &quot;Oklahoma&quot;      </span></a>
<a class="sourceLine" id="cb36-20" data-line-number="20"><span class="co">### [37] &quot;Oregon&quot;         &quot;Pennsylvania&quot;   &quot;Rhode Island&quot;   &quot;South Carolina&quot;</span></a>
<a class="sourceLine" id="cb36-21" data-line-number="21"><span class="co">### [41] &quot;South Dakota&quot;   &quot;Tennessee&quot;      &quot;Texas&quot;          &quot;Utah&quot;          </span></a>
<a class="sourceLine" id="cb36-22" data-line-number="22"><span class="co">### [45] &quot;Vermont&quot;        &quot;Virginia&quot;       &quot;Washington&quot;     &quot;West Virginia&quot; </span></a>
<a class="sourceLine" id="cb36-23" data-line-number="23"><span class="co">### [49] &quot;Wisconsin&quot;      &quot;Wyoming&quot;</span></a>
<a class="sourceLine" id="cb36-24" data-line-number="24"></a>
<a class="sourceLine" id="cb36-25" data-line-number="25"><span class="kw">head</span>( USArrests )  <span class="co"># print first six rows of the data</span></a>
<a class="sourceLine" id="cb36-26" data-line-number="26"><span class="co">###            Murder Assault UrbanPop Rape</span></a>
<a class="sourceLine" id="cb36-27" data-line-number="27"><span class="co">### Alabama      13.2     236       58 21.2</span></a>
<a class="sourceLine" id="cb36-28" data-line-number="28"><span class="co">### Alaska       10.0     263       48 44.5</span></a>
<a class="sourceLine" id="cb36-29" data-line-number="29"><span class="co">### Arizona       8.1     294       80 31.0</span></a>
<a class="sourceLine" id="cb36-30" data-line-number="30"><span class="co">### Arkansas      8.8     190       50 19.5</span></a>
<a class="sourceLine" id="cb36-31" data-line-number="31"><span class="co">### California    9.0     276       91 40.6</span></a>
<a class="sourceLine" id="cb36-32" data-line-number="32"><span class="co">### Colorado      7.9     204       78 38.7</span></a></code></pre></div>
</div>
<div id="matrices" class="section level3">
<h3><span class="header-section-number">3.13.2</span> Matrices</h3>
<p>A matrix is also a rectangular data object that consists of collections of vectors, but it is special in the sense that it only has numeric vectors and no variable names.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1"></a>
<a class="sourceLine" id="cb37-2" data-line-number="2">mat &lt;-<span class="st"> </span><span class="kw">matrix</span>( <span class="dv">1</span><span class="op">:</span><span class="dv">20</span>, <span class="dt">nrow=</span><span class="dv">5</span> )</a>
<a class="sourceLine" id="cb37-3" data-line-number="3"></a>
<a class="sourceLine" id="cb37-4" data-line-number="4">mat</a>
<a class="sourceLine" id="cb37-5" data-line-number="5"><span class="co">###      [,1] [,2] [,3] [,4]</span></a>
<a class="sourceLine" id="cb37-6" data-line-number="6"><span class="co">### [1,]    1    6   11   16</span></a>
<a class="sourceLine" id="cb37-7" data-line-number="7"><span class="co">### [2,]    2    7   12   17</span></a>
<a class="sourceLine" id="cb37-8" data-line-number="8"><span class="co">### [3,]    3    8   13   18</span></a>
<a class="sourceLine" id="cb37-9" data-line-number="9"><span class="co">### [4,]    4    9   14   19</span></a>
<a class="sourceLine" id="cb37-10" data-line-number="10"><span class="co">### [5,]    5   10   15   20</span></a>
<a class="sourceLine" id="cb37-11" data-line-number="11"></a>
<a class="sourceLine" id="cb37-12" data-line-number="12"><span class="kw">names</span>( mat )</a>
<a class="sourceLine" id="cb37-13" data-line-number="13"><span class="co">### NULL</span></a>
<a class="sourceLine" id="cb37-14" data-line-number="14"></a>
<a class="sourceLine" id="cb37-15" data-line-number="15"><span class="kw">dim</span>( mat )</a>
<a class="sourceLine" id="cb37-16" data-line-number="16"><span class="co">### [1] 5 4</span></a>
<a class="sourceLine" id="cb37-17" data-line-number="17"></a>
<a class="sourceLine" id="cb37-18" data-line-number="18"><span class="kw">as.data.frame</span>( mat )  <span class="co"># creates variable names</span></a>
<a class="sourceLine" id="cb37-19" data-line-number="19"><span class="co">###   V1 V2 V3 V4</span></a>
<a class="sourceLine" id="cb37-20" data-line-number="20"><span class="co">### 1  1  6 11 16</span></a>
<a class="sourceLine" id="cb37-21" data-line-number="21"><span class="co">### 2  2  7 12 17</span></a>
<a class="sourceLine" id="cb37-22" data-line-number="22"><span class="co">### 3  3  8 13 18</span></a>
<a class="sourceLine" id="cb37-23" data-line-number="23"><span class="co">### 4  4  9 14 19</span></a>
<a class="sourceLine" id="cb37-24" data-line-number="24"><span class="co">### 5  5 10 15 20</span></a></code></pre></div>
<p>These are used almost exclusively for matrix algebra operations, which are fundamental to mathematical statistics. We will not use matrices in this course.</p>
</div>
<div id="lists" class="section level3">
<h3><span class="header-section-number">3.13.3</span> Lists</h3>
<p>The list is the most flexible data structure. It is created by sticking a bunch of unrelated vectors or datasets together. For example, when you run a regression you generate a bunch of interesting information. This information is saved as a list.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"></a>
<a class="sourceLine" id="cb38-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">100</span></a>
<a class="sourceLine" id="cb38-3" data-line-number="3">y &lt;-<span class="st"> </span><span class="dv">2</span><span class="op">*</span>x <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>( <span class="dv">100</span>, <span class="dv">0</span>, <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb38-4" data-line-number="4"></a>
<a class="sourceLine" id="cb38-5" data-line-number="5">m<span class="fl">.01</span> &lt;-<span class="st"> </span><span class="kw">lm</span>( y <span class="op">~</span><span class="st"> </span>x )</a>
<a class="sourceLine" id="cb38-6" data-line-number="6"></a>
<a class="sourceLine" id="cb38-7" data-line-number="7"><span class="kw">names</span>( m<span class="fl">.01</span> )</a>
<a class="sourceLine" id="cb38-8" data-line-number="8"><span class="co">###  [1] &quot;coefficients&quot;  &quot;residuals&quot;     &quot;effects&quot;       &quot;rank&quot;         </span></a>
<a class="sourceLine" id="cb38-9" data-line-number="9"><span class="co">###  [5] &quot;fitted.values&quot; &quot;assign&quot;        &quot;qr&quot;            &quot;df.residual&quot;  </span></a>
<a class="sourceLine" id="cb38-10" data-line-number="10"><span class="co">###  [9] &quot;xlevels&quot;       &quot;call&quot;          &quot;terms&quot;         &quot;model&quot;</span></a>
<a class="sourceLine" id="cb38-11" data-line-number="11"></a>
<a class="sourceLine" id="cb38-12" data-line-number="12">m<span class="fl">.01</span><span class="op">$</span>coefficients</a>
<a class="sourceLine" id="cb38-13" data-line-number="13"><span class="co">### (Intercept)           x </span></a>
<a class="sourceLine" id="cb38-14" data-line-number="14"><span class="co">###   0.7532941   2.0092636</span></a>
<a class="sourceLine" id="cb38-15" data-line-number="15"></a>
<a class="sourceLine" id="cb38-16" data-line-number="16">m<span class="fl">.01</span><span class="op">$</span>residuals</a>
<a class="sourceLine" id="cb38-17" data-line-number="17"><span class="co">###            1            2            3            4            5 </span></a>
<a class="sourceLine" id="cb38-18" data-line-number="18"><span class="co">### -16.23834359  -6.28587336  -8.65191431  14.09851605  -0.14891008 </span></a>
<a class="sourceLine" id="cb38-19" data-line-number="19"><span class="co">###            6            7            8            9           10 </span></a>
<a class="sourceLine" id="cb38-20" data-line-number="20"><span class="co">###   2.50368966   7.59441634   2.23116406  -8.98258454   5.58237188 </span></a>
<a class="sourceLine" id="cb38-21" data-line-number="21"><span class="co">###           11           12           13           14           15 </span></a>
<a class="sourceLine" id="cb38-22" data-line-number="22"><span class="co">###  -4.80327555 -13.05703413   2.83351379  -3.85829603  -6.22740331 </span></a>
<a class="sourceLine" id="cb38-23" data-line-number="23"><span class="co">###           16           17           18           19           20 </span></a>
<a class="sourceLine" id="cb38-24" data-line-number="24"><span class="co">###  21.02863385 -20.04700346   0.16220046  -9.16916207   5.54835825 </span></a>
<a class="sourceLine" id="cb38-25" data-line-number="25"><span class="co">###           21           22           23           24           25 </span></a>
<a class="sourceLine" id="cb38-26" data-line-number="26"><span class="co">###   2.65891249   3.90130495  -3.27206833   1.82989407   8.55250181 </span></a>
<a class="sourceLine" id="cb38-27" data-line-number="27"><span class="co">###           26           27           28           29           30 </span></a>
<a class="sourceLine" id="cb38-28" data-line-number="28"><span class="co">###  13.87905952  10.08788980   0.68614379 -21.32116953  22.24391226 </span></a>
<a class="sourceLine" id="cb38-29" data-line-number="29"><span class="co">###           31           32           33           34           35 </span></a>
<a class="sourceLine" id="cb38-30" data-line-number="30"><span class="co">###   2.01351829   6.59205428   6.61190872  -1.95934601  -0.69050003 </span></a>
<a class="sourceLine" id="cb38-31" data-line-number="31"><span class="co">###           36           37           38           39           40 </span></a>
<a class="sourceLine" id="cb38-32" data-line-number="32"><span class="co">###   7.92499657   2.38772564   3.82201745   4.08313852  -7.19443797 </span></a>
<a class="sourceLine" id="cb38-33" data-line-number="33"><span class="co">###           41           42           43           44           45 </span></a>
<a class="sourceLine" id="cb38-34" data-line-number="34"><span class="co">### -10.63057423   5.20229623   0.34250357  14.56013609   3.14704395 </span></a>
<a class="sourceLine" id="cb38-35" data-line-number="35"><span class="co">###           46           47           48           49           50 </span></a>
<a class="sourceLine" id="cb38-36" data-line-number="36"><span class="co">###  10.23300408   8.89765484 -17.53772747  -6.52006189   2.11874226 </span></a>
<a class="sourceLine" id="cb38-37" data-line-number="37"><span class="co">###           51           52           53           54           55 </span></a>
<a class="sourceLine" id="cb38-38" data-line-number="38"><span class="co">### -14.10310977 -14.25964864   1.28001789 -12.99116007  18.51048383 </span></a>
<a class="sourceLine" id="cb38-39" data-line-number="39"><span class="co">###           56           57           58           59           60 </span></a>
<a class="sourceLine" id="cb38-40" data-line-number="40"><span class="co">###   1.86908911 -13.92027284   5.28149637  -0.25067707  10.47725119 </span></a>
<a class="sourceLine" id="cb38-41" data-line-number="41"><span class="co">###           61           62           63           64           65 </span></a>
<a class="sourceLine" id="cb38-42" data-line-number="42"><span class="co">###   8.10684304   2.14042097  -4.30199526  12.13154704 -12.33838361 </span></a>
<a class="sourceLine" id="cb38-43" data-line-number="43"><span class="co">###           66           67           68           69           70 </span></a>
<a class="sourceLine" id="cb38-44" data-line-number="44"><span class="co">###  -9.57336677  -1.85811011  10.12188392  -4.19022427   2.88127811 </span></a>
<a class="sourceLine" id="cb38-45" data-line-number="45"><span class="co">###           71           72           73           74           75 </span></a>
<a class="sourceLine" id="cb38-46" data-line-number="46"><span class="co">###  -2.57356148  -6.64558258  -6.81047533 -10.16528943  -7.21116660 </span></a>
<a class="sourceLine" id="cb38-47" data-line-number="47"><span class="co">###           76           77           78           79           80 </span></a>
<a class="sourceLine" id="cb38-48" data-line-number="48"><span class="co">### -17.07558489  -9.94505418   7.93093062  -4.90110540  17.04939562 </span></a>
<a class="sourceLine" id="cb38-49" data-line-number="49"><span class="co">###           81           82           83           84           85 </span></a>
<a class="sourceLine" id="cb38-50" data-line-number="50"><span class="co">###  -0.01128855 -15.15489033  12.17931687   1.73220350  25.14275524 </span></a>
<a class="sourceLine" id="cb38-51" data-line-number="51"><span class="co">###           86           87           88           89           90 </span></a>
<a class="sourceLine" id="cb38-52" data-line-number="52"><span class="co">### -13.20449220  -2.04203336 -18.26537746   6.16672168  13.03740359 </span></a>
<a class="sourceLine" id="cb38-53" data-line-number="53"><span class="co">###           91           92           93           94           95 </span></a>
<a class="sourceLine" id="cb38-54" data-line-number="54"><span class="co">###   8.73960203  -7.12135087  19.29121543 -11.48031475 -11.25970903 </span></a>
<a class="sourceLine" id="cb38-55" data-line-number="55"><span class="co">###           96           97           98           99          100 </span></a>
<a class="sourceLine" id="cb38-56" data-line-number="56"><span class="co">###   1.82536243  10.93998684   2.49265489  -8.52135231   4.08417936</span></a>
<a class="sourceLine" id="cb38-57" data-line-number="57"></a>
<a class="sourceLine" id="cb38-58" data-line-number="58">m<span class="fl">.01</span><span class="op">$</span>call</a>
<a class="sourceLine" id="cb38-59" data-line-number="59"><span class="co">### lm(formula = y ~ x)</span></a></code></pre></div>
<p>These output are all related to the model we have run, so they are kept organized by the list so they can be used for various further steps like comparing models or checking for model fit.</p>
<p>A data frame is a bit more rigid that a list in that you cannot combine elements that do not have the same dimensions.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1"></a>
<a class="sourceLine" id="cb39-2" data-line-number="2"><span class="co"># new.dataframe &lt;- data.frame( m.01$coefficients, m.01$residuals, m.01$call )</span></a>
<a class="sourceLine" id="cb39-3" data-line-number="3"><span class="co">#</span></a>
<a class="sourceLine" id="cb39-4" data-line-number="4"><span class="co"># these will fail because the vectors have different lengths </span></a></code></pre></div>
</div>
</div>
<div id="the-attach-function" class="section level2">
<h2><span class="header-section-number">3.14</span> The ‘attach’ Function</h2>
<p><strong>Never Use This!</strong></p>
<p>This is a convenient function for making variable names easily accessible, but it is problematic because of:</p>
<p>scope</p>
<p>conflicting variable names</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"></a>
<a class="sourceLine" id="cb40-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb40-3" data-line-number="3">y &lt;-<span class="st"> </span><span class="dv">6</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb40-4" data-line-number="4"></a>
<a class="sourceLine" id="cb40-5" data-line-number="5">dat &lt;-<span class="st"> </span><span class="kw">data.frame</span>(x,y)</a>
<a class="sourceLine" id="cb40-6" data-line-number="6"></a>
<a class="sourceLine" id="cb40-7" data-line-number="7"><span class="kw">rm</span>(x)</a>
<a class="sourceLine" id="cb40-8" data-line-number="8"><span class="kw">rm</span>(y)</a>
<a class="sourceLine" id="cb40-9" data-line-number="9"></a>
<a class="sourceLine" id="cb40-10" data-line-number="10"></a>
<a class="sourceLine" id="cb40-11" data-line-number="11"><span class="co"># I want to transform x in my dataset</span></a>
<a class="sourceLine" id="cb40-12" data-line-number="12"></a>
<a class="sourceLine" id="cb40-13" data-line-number="13"><span class="kw">attach</span>( dat )</a>
<a class="sourceLine" id="cb40-14" data-line-number="14"></a>
<a class="sourceLine" id="cb40-15" data-line-number="15"><span class="dv">2</span><span class="op">*</span>x</a>
<a class="sourceLine" id="cb40-16" data-line-number="16"><span class="co">### [1]  2  4  6  8 10</span></a>
<a class="sourceLine" id="cb40-17" data-line-number="17"></a>
<a class="sourceLine" id="cb40-18" data-line-number="18">x &lt;-<span class="st"> </span><span class="dv">2</span><span class="op">*</span>x</a>
<a class="sourceLine" id="cb40-19" data-line-number="19"></a>
<a class="sourceLine" id="cb40-20" data-line-number="20"><span class="kw">detach</span>( dat )</a>
<a class="sourceLine" id="cb40-21" data-line-number="21"></a>
<a class="sourceLine" id="cb40-22" data-line-number="22">x</a>
<a class="sourceLine" id="cb40-23" data-line-number="23"><span class="co">### [1]  2  4  6  8 10</span></a>
<a class="sourceLine" id="cb40-24" data-line-number="24"></a>
<a class="sourceLine" id="cb40-25" data-line-number="25">dat  <span class="co"># whoops! I didn&#39;t save my work in the dataset</span></a>
<a class="sourceLine" id="cb40-26" data-line-number="26"><span class="co">###   x  y</span></a>
<a class="sourceLine" id="cb40-27" data-line-number="27"><span class="co">### 1 1  6</span></a>
<a class="sourceLine" id="cb40-28" data-line-number="28"><span class="co">### 2 2  7</span></a>
<a class="sourceLine" id="cb40-29" data-line-number="29"><span class="co">### 3 3  8</span></a>
<a class="sourceLine" id="cb40-30" data-line-number="30"><span class="co">### 4 4  9</span></a>
<a class="sourceLine" id="cb40-31" data-line-number="31"><span class="co">### 5 5 10</span></a></code></pre></div>
<p>You will see the <strong>attach()</strong> function used on occasion, and it is tempting because you can write the variable names directly. But in general, try to avoid the <strong>attach()</strong> function and don’t form bad habits by using it now because when your scripts become more complicated then can cause problems.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="functions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="logical-statements.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/DS4PS/Data-Science-Class/tree/master/TEXTBOOK/CH-03-data-structures.Rmd",
"text": "Edit"
},
"download": ["DS4PS-I.pdf", "DS4PS-I.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
